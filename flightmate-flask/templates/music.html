{% extends "base.html" %}
{% block content %}

<div class="music-container">
  <h2>ğŸµ Choose Music</h2>

  <form method="POST" action="{{ url_for('music') }}" class="music-form">
    <div class="music-buttons">
      <button type="submit" name="music" value="Hip-Hop" class="btn-primary">Hip-Hop</button>
      <button type="submit" name="music" value="Jazz" class="btn-primary">Jazz</button>
      <button type="submit" name="music" value="Classical" class="btn-primary">Classical</button>
      <button type="submit" name="music" value="Pop" class="btn-primary">Pop</button>
      <button type="submit" name="music" value="Rock" class="btn-primary">Rock</button>
    </div>
  </form>

  {% if genre %}
    <h3>ğŸ‘¥ Passengers who like {{ genre }}:</h3>

    {% if matches %}
      <div class="music-results">
        {% for p in matches %}
          <div class="passenger-card">
            <h3>{{ p.name }}</h3>
            <p>{{ p.purpose }}</p>
            <p>ğŸµ Listens to {{ p.music }}</p>

            <div class="buttons">
              <button class="heart-btn">â¤ï¸</button>
              <a href="{{ url_for('person', name=p.name) }}" class="btn-secondary">ğŸ‘¤</a>
              <a href="{{ url_for('connect', name=p.name) }}" class="btn-primary">ğŸ’¬ Connect</a>
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <p class="no-results">No matches found for {{ genre }}. Try another genre!</p>
    {% endif %}
  {% endif %}
</div>

{% endblock %}
